.system-atoria {
  --atoria-color-health: #cc0000;
  --atoria-color-healing-inactive: #d76fac;
  --atoria-color-mana: #3c78d8;
  --atoria-color-stamina: #6aa84f;
  --atoria-color-endurance: #e69138;
  --atoria-color-sanity: #8e7cc3;
  --atoria-color-movement: #AD9C85;
  --atoria-color-armor: #636363;
  --atoria-color-resistance: #636363;
  --atoria-color-encumbrance: #434343;
  --atoria-font-color-encumbrance: white;
  --atoria-color-encumbrance-limit: #E79427;
  --atoria-color-encumbrance-over: #cc0000;
  --atoria-color-luck: #577e32;
  --atoria-color-inventory-title: #76a580;
  --atoria-color-modifiable-value: #fef2e0;
  --atoria-color-disabled-value: lightgray;
  --atoria-color-checkbox-checked: #cc0000;
  --atoria-color-checkbox-unchecked: #aaaaaa;
  --atoria-2dgt-input-width: 2em;
  --atoria-3dgt-input-width: 2.5em;
  --atoria-4dgt-input-width: 3em;
  --atoria-5dgt-input-width: 3.5em;
  --atoria-formula-input-width: 4em;
  --atoria-base-line-block-height: 20px;
  --atoria-input-width: var(--atoria-2dgt-input-width);
  --atoria-columns-gap: 0.5em;
  --atoria-rows-gap: 0.5em;
  --atoria-border-style: 1px solid #383838;
  --atoria-border-blending-style: 1px dotted #383838;
  --atoria-border-style-radius: 4px;
  --atoria-fieldset-border-style: 2px solid #c0c0c0;
  --atoria-document-img-size: 100%;
  --bar-percentage: 0%;
  --bar-color-background: black;
  --atoria-color-error: red;
  --atoria-skill-height: calc(2px + var(--atoria-base-line-block-height));
  --atoria-skill-title-width: 6em;
  --atoria-skill-width: calc(8em + var(--atoria-input-width));
  --atoria-mini-skill-width: calc(7em + var(--atoria-input-width));
  --atoria-img-filter: invert(100%);
  --atoria-character-simple-skill-n-knowledge-width: fit-content;
  --atoria-item-line-width: 100%;
  --atoria-item-line-vertical-padding: 1px;
  --atoria-item-line-height: calc(1lh + var(--atoria-item-line-vertical-padding) + var(--atoria-item-line-vertical-padding));
  --atoria-item-line-border-style: var(--atoria-border-style);
}
.system-atoria.theme-light {
  --atoria-color-checkbox-unchecked: black;
}
.system-atoria.theme-light .application textarea {
  --input-text-color: var(--color-dark-2);
  --background: rgba(0, 0, 0, 0.1);
  --color-text-selection-bg: var(--color-dark-6);
  --input-focus-outline-color: var(--color-warm-2);
}
.system-atoria.theme-light .application textarea:read-only {
  --input-text-color: var(--color-dark-4);
  --background: rgba(0, 0, 0, 0.2);
  color: var(--input-text-color);
}
.system-atoria .application textarea {
  --input-text-color: var(--color-light-3);
  --background: var(--color-cool-4);
  --input-focus-outline-color: var(--color-cool-3);
  background: var(--background);
  padding: 2px 0.5em;
  outline: 2px solid transparent;
  transition: outline-color 0.5s;
  font-family: var(--font-primary);
}
.system-atoria .application textarea:focus {
  box-shadow: 0 0 5px var(--color-shadow-primary);
  outline: 2px solid var(--input-focus-outline-color);
}
.system-atoria .atoria .atoria-health {
  --atoria-color-disabled-value: var(--atoria-color-health);
  --disabled-background-color: var(--atoria-color-health);
}
.system-atoria .atoria .atoria-healing-inactive {
  --atoria-color-disabled-value: var(--atoria-color-healing-inactive);
  --disabled-background-color: var(--atoria-color-healing-inactive);
}
.system-atoria .atoria .atoria-mana {
  --atoria-color-disabled-value: var(--atoria-color-mana);
  --disabled-background-color: var(--atoria-color-mana);
}
.system-atoria .atoria .atoria-stamina {
  --atoria-color-disabled-value: var(--atoria-color-stamina);
  --disabled-background-color: var(--atoria-color-stamina);
}
.system-atoria .atoria .atoria-endurance {
  --atoria-color-disabled-value: var(--atoria-color-endurance);
  --disabled-background-color: var(--atoria-color-endurance);
}
.system-atoria .atoria .atoria-movement {
  --atoria-color-disabled-value: var(--atoria-color-movement);
  --disabled-background-color: var(--atoria-color-movement);
}
.system-atoria .atoria .atoria-sanity {
  --atoria-color-disabled-value: var(--atoria-color-sanity);
  --disabled-background-color: var(--atoria-color-sanity);
}
.system-atoria .atoria .atoria-luck {
  --atoria-color-disabled-value: var(--atoria-color-luck);
  --disabled-background-color: var(--atoria-color-luck);
}
.system-atoria .atoria .atoria-encumbrance {
  --atoria-color-disabled-value: var(--atoria-color-encumbrance);
  --disabled-background-color: var(--atoria-color-encumbrance);
  --color-text-primary: var(--atoria-font-color-encumbrance);
  color: var(--color-text-primary);
}
.system-atoria .atoria .atoria-encumbrance * {
  --input-text-color: var(--atoria-font-color-encumbrance);
}
.system-atoria .atoria .atoria-armor {
  --atoria-color-disabled-value: var(--atoria-color-armor);
  --disabled-background-color: var(--atoria-color-armor);
}
.system-atoria .atoria .atoria-resistance {
  --atoria-color-disabled-value: var(--atoria-color-resistance);
  --disabled-background-color: var(--atoria-color-resistance);
}
.system-atoria label,
.system-atoria h5,
.system-atoria h6,
.system-atoria input:disabled,
.system-atoria input.colored,
.system-atoria .colored,
.system-atoria input[type=checkbox],
.system-atoria img {
  background-color: var(--disabled-background-color);
}
.system-atoria .atoria.sheet .window-content {
  gap: var(--atoria-rows-gap) var(--atoria-columns-gap);
  overflow: auto;
  padding-top: var(--atoria-rows-gap);
}
.system-atoria .atoria.sheet .window-content input[data-action=toggleEditingMode]::after {
  font-weight: 900;
  content: "\f044";
}
.system-atoria .atoria {
  --font-size: var(--font-size-15);
  --font-h1-size: var(--font-size-15);
  --font-h2-size: var(--font-size-15);
  --font-h3-size: var(--font-size-15);
  --font-h4-size: var(--font-size-15);
  --font-h5-size: var(--font-size-15);
  --font-h6-size: var(--font-size-15);
  --checkbox-size: var(--atoria-base-line-block-height);
  --checkbox-content: "";
}
.system-atoria .atoria * {
  font-size: var(--font-size);
}
.system-atoria .atoria h6 {
  font-family: var(--font-h5);
}
.system-atoria .atoria .item-list {
  list-style-type: none;
  padding: 0;
  margin: 0;
}
.system-atoria .atoria .item-list .item {
  margin: 0;
}
.system-atoria .atoria fieldset {
  border: var(--atoria-fieldset-border-style);
  border-radius: var(--atoria-border-style-radius);
}
.system-atoria .atoria h1,
.system-atoria .atoria h2,
.system-atoria .atoria h3,
.system-atoria .atoria h4,
.system-atoria .atoria h5,
.system-atoria .atoria h6,
.system-atoria .atoria button,
.system-atoria .atoria label {
  padding-left: 5px;
  padding-right: 5px;
  height: auto;
}
.system-atoria .atoria h1,
.system-atoria .atoria h2,
.system-atoria .atoria h3,
.system-atoria .atoria h4,
.system-atoria .atoria h5,
.system-atoria .atoria h6,
.system-atoria .atoria input,
.system-atoria .atoria select,
.system-atoria .atoria button {
  text-align: center;
  vertical-align: middle;
  margin: 0;
  border: var(--atoria-border-style);
  border-radius: var(--atoria-border-style-radius);
  line-height: 1lh;
  white-space: nowrap;
  height: auto;
}
.system-atoria .atoria button {
  line-height: 1.5em;
}
.system-atoria .atoria label,
.system-atoria .atoria .colored,
.system-atoria .atoria img,
.system-atoria .atoria input[type=checkbox] {
  border-radius: var(--atoria-border-style-radius);
}
.system-atoria .atoria textarea {
  margin: 0;
  border: var(--atoria-border-style);
  border-radius: var(--atoria-border-style-radius);
  min-height: calc(1lh);
}
.system-atoria .atoria textarea:disabled {
  background-color: color-mix(in lab, var(--background) 50%, transparent);
}
.system-atoria .atoria input:not([type=checkbox]) {
  min-width: var(--atoria-input-width);
  max-width: var(--atoria-input-width);
  padding: 0px 2px;
}
.system-atoria .atoria input[type=checkbox] {
  --checkbox-size: var(--atoria-base-line-block-height);
  display: inline-block;
  position: relative;
  appearance: none;
  content: none;
  min-width: var(--checkbox-size);
  max-width: var(--checkbox-size);
  min-height: var(--checkbox-size);
  max-height: var(--checkbox-size);
}
.system-atoria .atoria input[type=checkbox]::before {
  display: none;
  content: "";
}
.system-atoria .atoria input[type=checkbox]::after {
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: var(--font-awesome);
  font-size: 1em;
  content: var(--checkbox-content);
  color: var(--atoria-color-checkbox-unchecked);
  min-width: calc(var(--checkbox-size) - 2px);
  max-width: calc(var(--checkbox-size) - 2px);
  min-height: var(--checkbox-size);
  max-height: var(--checkbox-size);
}
.system-atoria .atoria input[type=checkbox]:checked::after {
  --checkbox-content: "\f00c";
  color: var(--atoria-color-checkbox-checked);
}
.system-atoria .sheet {
  min-width: min-content;
}
.system-atoria .context-menu {
  z-index: var(--index-tooltip);
}
.system-atoria .atoria-document-img {
  min-height: var(--atoria-document-img-size);
  max-height: var(--atoria-document-img-size);
  min-width: var(--atoria-document-img-size);
  max-width: var(--atoria-document-img-size);
  border-radius: var(--atoria-border-style-radius);
}
.system-atoria .atoria-create-button,
.system-atoria .atoria-edit-button,
.system-atoria .atoria-delete-button {
  flex: 0;
  vertical-align: middle;
  display: inline-grid;
  text-align: right;
  align-content: center;
}
.system-atoria .atoria-create-button i,
.system-atoria .atoria-edit-button i,
.system-atoria .atoria-delete-button i {
  font-size: 100%;
}
.system-atoria .atoria-horizontal-bar {
  border: var(--atoria-border-style);
  border-radius: var(--atoria-border-style-radius);
}
.system-atoria .atoria-horizontal-bar > *,
.system-atoria .atoria-horizontal-bar > h5 {
  border: none;
}
.system-atoria .atoria-horizontal-bar > hr {
  margin: 0;
  height: calc(var(--atoria-base-line-block-height) / 2);
  min-width: 1px;
  border-left: var(--atoria-item-line-border-style);
}
.system-atoria .atoria-horizontal-bar > *.atoria-create-button,
.system-atoria .atoria-horizontal-bar .atoria-create-button-group > *.atoria-create-button,
.system-atoria .atoria-horizontal-bar > *.atoria-edit-button,
.system-atoria .atoria-horizontal-bar .atoria-create-button-group > *.atoria-edit-button,
.system-atoria .atoria-horizontal-bar > *.atoria-delete-button,
.system-atoria .atoria-horizontal-bar .atoria-create-button-group > *.atoria-delete-button {
  border: none;
  margin: 0 3px;
}
.system-atoria .atoria-progress-bar {
  background: var(--bar-color-background);
  width: auto;
  position: relative;
  height: max-content;
}
.system-atoria .atoria-progress-bar > .progress {
  --bar-color-bar: var(--atoria-color-disabled-value);
  height: 100%;
  width: var(--bar-percentage);
  background: var(--bar-color-bar);
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  margin: 0;
}
.system-atoria .atoria-progress-bar > .title {
  position: relative;
  background-color: transparent;
  z-index: 1;
  color: var(--atoria-color-disabled-value);
  mix-blend-mode: difference;
}
.system-atoria [data-action]:hover {
  cursor: pointer;
  text-shadow: 0 0 8px var(--color-shadow-primary);
}
.system-atoria .atoria-expand-control:not(.expanded) ~ .atoria-expand-following-data,
.system-atoria .atoria-expand-control:not(.expanded) + .atoria-expand-direct-data {
  height: 0;
  min-height: 0;
  max-height: 0;
  overflow: hidden;
  border: none;
}
.system-atoria .atoria-expand-control.expanded:has(+ .atoria-expand-direct-data) {
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.system-atoria .atoria-expand-control.expanded + .atoria-expand-direct-data {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.system-atoria .atoria-error {
  color: var(--atoria-color-error) !important;
}
.system-atoria fieldset > legend.atoria-expand-control::before {
  font-family: var(--font-awesome);
  font-size: 1em;
  content: "\f105";
}
.system-atoria fieldset > legend.atoria-expand-control.expanded::before {
  content: "\f107";
}
.system-atoria .atoria-details > summary::before {
  font-family: var(--font-awesome);
  font-size: 1em;
  content: "\f105";
}
.system-atoria .atoria-details[open] > summary::before {
  content: "\f107";
}
.system-atoria .grid-2col {
  display: grid;
  grid-template-columns: auto auto;
  gap: var(--atoria-rows-gap) var(--atoria-columns-gap);
}
.system-atoria .grid-2col .double-col-field {
  grid-column: 1 / span 2;
}
.system-atoria .flex0 {
  flex: 0;
  min-width: fit-content;
  min-height: fit-content;
}
.system-atoria .textarea-auto-resize,
.system-atoria .textarea-auto-resize-sibling {
  resize: none;
  word-wrap: break-word;
  white-space: pre-wrap;
  padding: 2px 0.5em;
  margin: 0;
  min-height: calc(1lh);
  max-height: 100%;
  box-sizing: border-box;
  border: 1px solid #7a7971;
}
.system-atoria .atoria-icon {
  min-width: 1lh;
  max-width: 1lh;
}
.system-atoria .atoria-cost-input,
.system-atoria .atoria-cost-display {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
}
.system-atoria .atoria-cost-input > *,
.system-atoria .atoria-cost-display > * {
  flex: 1;
  min-width: fit-content;
}
.system-atoria .atoria-cost-input > label,
.system-atoria .atoria-cost-display > label {
  flex: 0;
}
.system-atoria .atoria-cost-input > .atoria-material,
.system-atoria .atoria-cost-display > .atoria-material {
  --atoria-input-width: fit-content;
}
.system-atoria .atoria-cost-display {
  justify-content: flex-start;
}
.system-atoria .atoria-time-limitation-input,
.system-atoria .atoria-time-limitation-display {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  flex: 0;
  width: fit-content;
  max-width: fit-content;
  min-width: fit-content;
}
.system-atoria .atoria-time-limitation-input > *,
.system-atoria .atoria-time-limitation-display > * {
  flex: 1;
}
.system-atoria .atoria-time-limitation-input > label,
.system-atoria .atoria-time-limitation-display > label {
  text-align: right;
}
.system-atoria .atoria-time-limitation-input > img,
.system-atoria .atoria-time-limitation-display > img {
  min-height: var(--atoria-base-line-block-height);
  max-height: var(--atoria-base-line-block-height);
  min-width: var(--atoria-base-line-block-height);
  max-width: var(--atoria-base-line-block-height);
  border: none;
  filter: var(--atoria-img-filter);
}
.system-atoria .atoria-time-limitation-input > input,
.system-atoria .atoria-time-limitation-display > input {
  flex: 0;
}
.system-atoria .atoria-skill-alteration-input {
  grid-template-columns: subgrid;
}
.system-atoria .atoria-rollfield-display.name-hidden .name,
.system-atoria .atoria-rollfield-input.name-hidden .name {
  display: none;
}
.system-atoria .atoria-rollfield-display .atoria-expand-control:has(+ .atoria-damage-type-area)::before,
.system-atoria .atoria-rollfield-input .atoria-expand-control:has(+ .atoria-damage-type-area)::before {
  font-family: var(--font-awesome);
  font-size: 1em;
  content: "\f105";
}
.system-atoria .atoria-rollfield-display .atoria-expand-control:has(+ .atoria-damage-type-area).expanded::before,
.system-atoria .atoria-rollfield-input .atoria-expand-control:has(+ .atoria-damage-type-area).expanded::before {
  content: "\f107";
}
.system-atoria .atoria-rollfield-display .atoria-damage-type-area,
.system-atoria .atoria-rollfield-input .atoria-damage-type-area {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
}
.system-atoria .atoria-rollfield-display {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
}
.system-atoria .editing-mode {
  --atoria-skill-width: calc(8em + var(--atoria-input-width) * 3 + var(--checkbox-size));
}
.system-atoria .atoria-skill-display {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: flex-start;
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
  flex: 0 1 auto;
  border: none;
}
.system-atoria .atoria-skill-display > label {
  padding: 0px 3px;
  border: var(--atoria-border-style);
  border-radius: var(--atoria-border-style-radius);
  text-align: center;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
}
.system-atoria .atoria-skill-display,
.system-atoria .atoria-skill-cat-display {
  min-width: var(--atoria-skill-width);
  max-width: var(--atoria-skill-width);
  /* &:hover {
        max-width: min-content;
    } */
  /* > *:hover {
        max-width: min(var(--atoria-skill-width), min-content);
    } */
}
.system-atoria .atoria-skill-display > label,
.system-atoria .atoria-skill-cat-display > label,
.system-atoria .atoria-skill-display > input,
.system-atoria .atoria-skill-cat-display > input,
.system-atoria .atoria-skill-display > h5,
.system-atoria .atoria-skill-cat-display > h5 {
  height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .atoria-skill-group-display > label,
.system-atoria .atoria-skill-type-display > label,
.system-atoria .atoria-skill-group-display > input,
.system-atoria .atoria-skill-type-display > input,
.system-atoria .atoria-skill-group-display > h5,
.system-atoria .atoria-skill-type-display > h5 {
  height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .atoria-skill-display input[type=checkbox].atoria-skill-shown-control:checked::after,
.system-atoria .atoria-skill-cat-display input[type=checkbox].atoria-skill-shown-control:checked::after,
.system-atoria .atoria-skill-group-display input[type=checkbox].atoria-skill-shown-control:checked::after,
.system-atoria .atoria-skill-type-display input[type=checkbox].atoria-skill-shown-control:checked::after {
  --checkbox-content: "\f06e" !important;
}
.system-atoria .atoria-skill-display input[type=checkbox].atoria-skill-shown-control::after,
.system-atoria .atoria-skill-cat-display input[type=checkbox].atoria-skill-shown-control::after,
.system-atoria .atoria-skill-group-display input[type=checkbox].atoria-skill-shown-control::after,
.system-atoria .atoria-skill-type-display input[type=checkbox].atoria-skill-shown-control::after {
  --checkbox-content: "\f070" !important;
}
.system-atoria .atoria-skill-display h5 > input[type=checkbox].atoria-skill-shown-control,
.system-atoria .atoria-skill-cat-display h5 > input[type=checkbox].atoria-skill-shown-control,
.system-atoria .atoria-skill-group-display h5 > input[type=checkbox].atoria-skill-shown-control,
.system-atoria .atoria-skill-type-display h5 > input[type=checkbox].atoria-skill-shown-control {
  float: right;
}
.system-atoria .is_forced_horizontally .atoria-skill-group-display {
  max-width: fit-content;
}
.system-atoria .is_forced_horizontally .atoria-skill-group-display > h5 {
  max-width: 100%;
}
.system-atoria .is_forced_horizontally .atoria-skill-group-display > .atoria-skill-cat-area > .atoria-skill-cat-display {
  display: flex;
  flex-direction: row;
  max-width: fit-content;
}
.system-atoria .is_forced_horizontally .atoria-skill-group-display > .atoria-skill-cat-area > .atoria-skill-cat-display > h6 {
  display: flex;
  align-items: center;
  justify-content: center;
  max-height: 100% !important;
  min-width: var(--atoria-skill-title-width);
  max-width: var(--atoria-skill-title-width);
}
.system-atoria .atoria-simple-header {
  display: grid;
  grid-template-areas: "img name" "img desc";
  grid-template-columns: min-content 1fr;
  grid-template-rows: min-content 1fr;
  gap: var(--atoria-rows-gap) var(--atoria-columns-gap);
}
.system-atoria .atoria-simple-header > .atoria-document-img {
  --atoria-document-img-size: 12em;
  grid-area: img;
  margin: auto;
}
.system-atoria .atoria-simple-header.small-image > .atoria-document-img {
  --atoria-document-img-size: 6em;
}
.system-atoria .atoria-simple-header > input[name="name"] {
  --atoria-input-width: 100%;
  grid-area: name;
  text-align: left;
}
.system-atoria .atoria-simple-header > .atoria-description {
  grid-area: desc;
  min-width: 15em;
}
.system-atoria .atoria-simple-header > .atoria-description label {
  display: inline-block;
  flex: 0 1 auto;
}
.system-atoria .atoria-armor-display,
.system-atoria .atoria-resistance-display {
  display: grid;
  grid-template-columns: 1fr min-content min-content;
}
.system-atoria .atoria-armor-display > h5,
.system-atoria .atoria-resistance-display > h5 {
  display: flex;
  align-items: center;
  justify-content: center;
  grid-column: 1 / span 2;
  background-color: var(--disabled-background-color) !important;
}
.system-atoria .atoria-armor-display > .atoria-expand-following-data,
.system-atoria .atoria-resistance-display > .atoria-expand-following-data {
  display: grid;
  grid-column: 1 / span 3;
  grid-template-columns: subgrid;
}
.system-atoria .atoria-character-header {
  --atoria-document-img-size: calc(7 * var(--atoria-skill-height));
  --atoria-header-area-width: calc(16em + var(--atoria-document-img-size) + var(--atoria-skill-width) + 2*var(--atoria-columns-gap));
  grid-area: char-hdr;
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  min-width: var(--atoria-header-area-width);
  max-width: var(--atoria-header-area-width);
  gap: var(--atoria-rows-gap) var(--atoria-columns-gap);
}
.system-atoria .atoria-character-header > * {
  flex: 1;
}
.system-atoria .atoria-character-header > .attribute-area > div > div > input,
.system-atoria .atoria-character-header > .attribute-area > div > input,
.system-atoria .atoria-character-header > .attribute-area > div > input,
.system-atoria .atoria-character-header > .attribute-area > input,
.system-atoria .atoria-character-header > .attribute-area > div > div > label,
.system-atoria .atoria-character-header > .attribute-area > div > label,
.system-atoria .atoria-character-header > .attribute-area > div > label,
.system-atoria .atoria-character-header > .attribute-area > label,
.system-atoria .atoria-character-header > .attribute-area > div > div > h5,
.system-atoria .atoria-character-header > .attribute-area > div > h5,
.system-atoria .atoria-character-header > .attribute-area > div > h5,
.system-atoria .atoria-character-header > .attribute-area > h5 {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .atoria-character-header > .attribute-area > .name-area {
  display: flex;
  flex-direction: row;
  width: 100%;
}
.system-atoria .atoria-character-header > .attribute-area > .name-area > input[name="name"] {
  --atoria-input-width: 1fr;
}
.system-atoria .atoria-character-header > .attribute-area > .atoria-initiative input {
  --atoria-input-width: var(--atoria-formula-input-width);
}
.system-atoria .atoria-attribute-display {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
}
.system-atoria .atoria-attribute-display > label {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  grid-area: ttl;
  text-align: center;
  width: 100%;
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
  border: var(--atoria-border-style);
  border-radius: var(--atoria-border-style-radius);
}
.system-atoria .atoria-attribute-display > input {
  line-height: 1lh;
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .atoria-attribute-display > input:first-of-type {
  grid-area: val;
}
.system-atoria .atoria-attribute-display > input:last-of-type {
  grid-area: max;
}
.system-atoria .atoria-attribute-display.two-rows {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-areas: "ttl ttl" "val max";
}
.system-atoria .atoria-attribute-display.two-rows > input:first-of-type,
.system-atoria .atoria-attribute-display.two-rows > input:last-of-type {
  --atoria-input-width: 100%;
}
.system-atoria .editing-mode {
  --atoria-mini-skill-width: calc(7em + var(--atoria-input-width) * 3 + var(--checkbox-size));
}
.system-atoria.theme-light img {
  --atoria-img-filter: none;
}
.system-atoria .atoria-player-header {
  --atoria-document-img-size: calc(7 * var(--atoria-skill-height));
  --atoria-header-area-width: calc(22em + var(--atoria-mini-skill-width) + var(--atoria-mini-skill-width) + var(--atoria-document-img-size) + 3*var(--atoria-columns-gap));
  grid-area: char-hdr;
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  min-width: var(--atoria-header-area-width);
  max-width: var(--atoria-header-area-width);
  gap: var(--atoria-rows-gap) var(--atoria-columns-gap);
}
.system-atoria .atoria-player-header > * {
  flex: 1;
}
.system-atoria .atoria-player-header > .attribute-area {
  min-width: 22em;
  max-width: fit-content;
}
.system-atoria .atoria-player-header > .attribute-area > div > div > div > input:not([type=checkbox]),
.system-atoria .atoria-player-header > .attribute-area > div > div > input:not([type=checkbox]),
.system-atoria .atoria-player-header > .attribute-area > div > div > input:not([type=checkbox]),
.system-atoria .atoria-player-header > .attribute-area > div > input:not([type=checkbox]),
.system-atoria .atoria-player-header > .attribute-area > div > div > input:not([type=checkbox]),
.system-atoria .atoria-player-header > .attribute-area > div > input:not([type=checkbox]),
.system-atoria .atoria-player-header > .attribute-area > div > input:not([type=checkbox]),
.system-atoria .atoria-player-header > .attribute-area > input:not([type=checkbox]),
.system-atoria .atoria-player-header > .attribute-area > div > div > div > label,
.system-atoria .atoria-player-header > .attribute-area > div > div > label,
.system-atoria .atoria-player-header > .attribute-area > div > div > label,
.system-atoria .atoria-player-header > .attribute-area > div > label,
.system-atoria .atoria-player-header > .attribute-area > div > div > label,
.system-atoria .atoria-player-header > .attribute-area > div > label,
.system-atoria .atoria-player-header > .attribute-area > div > label,
.system-atoria .atoria-player-header > .attribute-area > label,
.system-atoria .atoria-player-header > .attribute-area > div > div > div > h5,
.system-atoria .atoria-player-header > .attribute-area > div > div > h5,
.system-atoria .atoria-player-header > .attribute-area > div > div > h5,
.system-atoria .atoria-player-header > .attribute-area > div > h5,
.system-atoria .atoria-player-header > .attribute-area > div > div > h5,
.system-atoria .atoria-player-header > .attribute-area > div > h5,
.system-atoria .atoria-player-header > .attribute-area > div > h5,
.system-atoria .atoria-player-header > .attribute-area > h5 {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .atoria-player-header > .attribute-area > div > div > div > input[type=checkbox],
.system-atoria .atoria-player-header > .attribute-area > div > div > input[type=checkbox],
.system-atoria .atoria-player-header > .attribute-area > div > div > input[type=checkbox],
.system-atoria .atoria-player-header > .attribute-area > div > input[type=checkbox],
.system-atoria .atoria-player-header > .attribute-area > div > div > input[type=checkbox],
.system-atoria .atoria-player-header > .attribute-area > div > input[type=checkbox],
.system-atoria .atoria-player-header > .attribute-area > div > input[type=checkbox],
.system-atoria .atoria-player-header > .attribute-area > input[type=checkbox] {
  --checkbox-size: var(--atoria-skill-height);
}
.system-atoria .atoria-player-header > .attribute-area > .atoria-time-phase-buttons {
  display: flex;
  flex-direction: row;
  width: 100%;
}
.system-atoria .atoria-player-header > .attribute-area > .atoria-time-phase-buttons > input[name="name"] {
  --atoria-input-width: 5fr;
}
.system-atoria .atoria-player-header > .attribute-area > .atoria-time-phase-buttons > h6 {
  justify-content: center;
  white-space: wrap;
  height: calc(2*var(--atoria-base-line-block-height));
  display: flex;
  align-items: center;
}
.system-atoria .atoria-player-header > .attribute-area > .atoria-time-phase-buttons > label {
  max-height: var(--atoria-skill-height);
  align-items: stretch;
  flex: 1;
  display: flex;
  justify-content: center;
  border: var(--atoria-border-style);
}
.system-atoria .atoria-player-header > .attribute-area > .atoria-time-phase-buttons > label > img {
  flex: 0;
  max-width: var(--atoria-base-line-block-height);
  max-height: var(--atoria-base-line-block-height);
  border: none;
  filter: var(--atoria-img-filter);
}
.system-atoria .atoria-player-header > .attribute-area > .atoria-time-phase-buttons > label > * {
  flex: 1;
}
.system-atoria .atoria-player-header > .attribute-area .atoria-initiative input {
  --atoria-input-width: var(--atoria-formula-input-width);
}
.system-atoria .atoria-player-header > .attribute-area .atoria-healing-inactive {
  --checkbox-size: var(--atoria-base-line-block-height);
  text-align: center;
}
.system-atoria .atoria-player-header > .attribute-area .atoria-healing-inactive > div {
  border: var(--atoria-border-style);
  border-radius: var(--atoria-border-style-radius);
}
.system-atoria .atoria-player-header > .attribute-area .atoria-healing-inactive img[data-action=editHealingInactive],
.system-atoria .atoria-player-header > .attribute-area .atoria-healing-inactive img[data-action=toggleAttribute],
.system-atoria .atoria-player-header > .attribute-area .atoria-healing-inactive input[type=checkbox] {
  border: none;
  margin: auto;
  min-height: calc(var(--checkbox-size) - 2px);
  max-height: calc(var(--checkbox-size) - 2px);
}
.system-atoria .atoria-player-header > .attribute-area .atoria-healing-inactive img {
  min-height: calc(var(--checkbox-size) - 2px);
  max-height: calc(var(--checkbox-size) - 2px);
  min-width: var(--checkbox-size);
  max-width: var(--checkbox-size);
}
.system-atoria .atoria-player-header > .attribute-area .atoria-healing-inactive img.checked {
  color: var(--atoria-color-checkbox-checked);
}
.system-atoria .atoria-player-header > .attribute-area .atoria-healing-inactive input[type=checkbox].resurrection::after {
  --checkbox-content: "\f714" !important;
}
.system-atoria .atoria-player-header > .attribute-area .atoria-armor-n-resistance {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
}
.system-atoria .atoria-player-header > .attribute-area .atoria-armor-n-resistance > * {
  flex: 1;
}
.system-atoria .atoria-player-header > .atoria-encumbrance-n-coins {
  min-width: var(--atoria-mini-skill-width);
  max-width: var(--atoria-mini-skill-width);
}
.system-atoria .atoria-player-header > .atoria-encumbrance-n-coins[atoria-encumbrance-level="limit"] .atoria-unnamed-value {
  background-color: var(--atoria-color-encumbrance-limit);
}
.system-atoria .atoria-player-header > .atoria-encumbrance-n-coins[atoria-encumbrance-level="over"] .atoria-unnamed-value {
  background-color: var(--atoria-color-encumbrance-over);
}
.system-atoria .atoria-player-header > .atoria-encumbrance-n-coins > .atoria-coins-display {
  display: flex;
  flex-direction: column;
  gap: 0;
  padding: 0;
}
.system-atoria .atoria-player-header > .atoria-encumbrance-n-coins > .atoria-coins-display .coins {
  padding: 0;
}
.system-atoria .atoria-player-header > .atoria-encumbrance-n-coins > .atoria-coins-display * {
  gap: 0;
}
.system-atoria .atoria-player-header > .atoria-encumbrance-n-coins > .atoria-coins-display > h5 {
  max-height: var(--atoria-base-line-block-height) !important;
  padding: 2px;
  width: 100%;
}
.system-atoria .atoria-player-header > .atoria-perceptions-block .atoria-skill-display,
.system-atoria .atoria-player-header > .atoria-perceptions-block .atoria-skill-cat-display {
  min-width: var(--atoria-mini-skill-width);
  max-width: var(--atoria-mini-skill-width);
}
.system-atoria .atoria-character-simple-skill-n-knowledge {
  grid-area: char-smpl-skl-knw;
  min-width: var(--atoria-character-simple-skill-n-knowledge-width);
  max-width: var(--atoria-character-simple-skill-n-knowledge-width);
}
.system-atoria .atoria-character-simple-skill-n-knowledge .atoria-skill-group-display {
  min-width: var(--atoria-skill-width);
  max-width: var(--atoria-skill-width);
}
.system-atoria .atoria-coins-display {
  --atoria-coins-line-vertical-padding: 1px;
  --atoria-coins-line-height: 1lh + var(--atoria-coins-line-vertical-padding) + var(--atoria-coins-line-vertical-padding);
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  gap: var(--atoria-rows-gap) var(--atoria-columns-gap);
  line-height: var(--atoria-coins-line-height);
  padding: var(--atoria-coins-line-vertical-padding);
}
.system-atoria .atoria-coins-display > * {
  flex: 1;
}
.system-atoria .atoria-coins-display > h5 {
  display: flex;
  align-items: center;
  justify-content: center;
}
.system-atoria .atoria-coins-display > .coins {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  gap: var(--atoria-rows-gap) var(--atoria-columns-gap);
  flex: 4;
  line-height: var(--atoria-coins-line-height);
  padding: var(--atoria-coins-line-vertical-padding);
}
.system-atoria .atoria-coins-display > .coins > * {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  gap: var(--atoria-rows-gap) var(--atoria-columns-gap);
  /* height: var(--atoria-base-line-block-height); */
  height: var(--atoria-skill-height);
  flex: 1;
}
.system-atoria .atoria-coins-display > .coins > * > label {
  text-align: center;
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
}
.system-atoria .atoria-coins-display > .coins > * > input {
  --atoria-input-width: var(--atoria-3dgt-input-width);
  line-height: var(--atoria-coins-line-height);
  flex: 0;
}
.system-atoria .atoria-inventory-bar {
  position: relative;
}
.system-atoria .atoria-inventory-bar > *.atoria-create-button,
.system-atoria .atoria-inventory-bar .atoria-create-button-group > *.atoria-create-button {
  min-height: calc(1lh - 2px);
  max-height: calc(1lh - 2px);
}
.system-atoria .atoria-inventory-bar .atoria-create-button-group {
  display: inline-block;
  position: absolute;
  right: 0px;
  left: auto;
  min-width: fit-content;
}
.system-atoria .atoria-item-line-display {
  /* --atoria-columns-gap: calc(var(--atoria-columns-gap) / 2); */
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: var(--atoria-rows-gap) calc(var(--atoria-columns-gap) / 2);
  min-height: var(--atoria-skill-height);
  max-height: fit-content;
  min-width: var(--atoria-item-line-width);
  max-width: var(--atoria-item-line-width);
  border: var(--atoria-item-line-border-style);
  border-radius: var(--atoria-border-style-radius);
  padding: 0;
}
.system-atoria .atoria-item-line-display > i[data-action="toggleEffect"] {
  margin-left: 5px;
}
.system-atoria .atoria-item-line-display > .name {
  flex: auto;
}
.system-atoria .atoria-item-line-display > input {
  height: 100%;
}
.system-atoria .atoria-item-line-display > .flexcol:has(.atoria-cost-display) {
  gap: 2px;
}
.system-atoria .atoria-item-line-display > hr {
  margin: 0;
  height: calc(var(--atoria-base-line-block-height) / 2);
  min-width: 1px;
  border-left: var(--atoria-item-line-border-style);
}
.system-atoria .atoria-item-line-display > .equip-toggle {
  --atoria-border-style: none;
  margin-left: 4px;
  margin-right: 4px;
}
.system-atoria .atoria-item-line-display > .equip-toggle::after {
  --checkbox-content: "\f3ed" !important;
}
.system-atoria .atoria-item-line-display .name {
  flex: 2;
}
.system-atoria .atoria-item-line-display * {
  flex: none;
}
.system-atoria .atoria-item-line-display .atoria-markers {
  min-width: 45px;
  max-width: 45px;
}
.system-atoria .atoria-item-line-display .atoria-cost {
  min-width: 170px;
  max-width: 170px;
}
.system-atoria .atoria-item-line-display .atoria-target {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 2px;
  min-width: 150px;
  max-width: 150px;
}
.system-atoria .atoria-item-line-display .atoria-range {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 2px;
  min-width: 70px;
  max-width: 70px;
}
.system-atoria .atoria-item-line-display .atoria-area {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 2px;
  min-width: 80px;
  max-width: 80px;
}
.system-atoria .atoria-item-line-display .atoria-limitation {
  min-width: 80px;
  max-width: 80px;
  display: flex;
  justify-content: flex-end;
}
.system-atoria .atoria-item-line-display > .atoria-spell-marker {
  border: none;
  pointer-events: none;
}
.system-atoria .atoria-item-line-display > .atoria-target {
  flex: auto;
}
.system-atoria .atoria-item-line-display.weapon .atoria-cost {
  min-width: 0px;
  max-width: none;
}
.system-atoria .atoria-item-line-display.weapon .atoria-limitation {
  min-width: 0px;
  max-width: 0px;
}
.system-atoria .atoria-item-line-display.armor .armor-type {
  display: flex;
  justify-content: center;
  padding: 0;
}
.system-atoria .atoria-item-line-display.armor .armor-type img {
  flex: 0;
  max-width: var(--atoria-base-line-block-height);
  max-height: var(--atoria-base-line-block-height);
  width: var(--atoria-base-line-block-height);
  height: var(--atoria-base-line-block-height);
  border: none;
}
.system-atoria .atoria-item-line-display + .atoria-expand-direct-data {
  margin: 0;
  border: var(--atoria-border-style);
  border-radius: var(--atoria-border-style-radius);
  padding: 0;
  padding-left: var(--atoria-columns-gap);
  padding-right: var(--atoria-columns-gap);
  gap: var(--atoria-rows-gap) var(--atoria-columns-gap);
}
.system-atoria .atoria-item-line-display + .atoria-expand-direct-data > .flexrow {
  gap: var(--atoria-rows-gap) var(--atoria-columns-gap);
}
.system-atoria .atoria-character-simple-inventory {
  grid-area: char-smpl-inv;
  width: 27em;
  max-width: fit-content;
}
.system-atoria .atoria-character-simple-inventory > .atoria-inventory-bar {
  --atoria-input-width: var(--atoria-4dgt-input-width);
}
.system-atoria .atoria-keywords {
  column-count: 2;
  column-rule: var(--atoria-border-style);
  column-gap: 5px;
  padding: 0;
  margin: 0;
}
.system-atoria .atoria-keywords .keyword_block {
  display: flex;
  flex-direction: row;
  line-height: var(--atoria-base-line-block-height);
  max-height: var(--atoria-base-line-block-height);
  column-gap: 5px;
}
.system-atoria .atoria-keywords .keyword_block img {
  flex: 0;
  max-width: var(--atoria-base-line-block-height);
  max-height: var(--atoria-base-line-block-height);
  border: none;
  filter: var(--atoria-img-filter);
}
.system-atoria .atoria-spell-marker::after {
  --checkbox-content: attr(data-letter) !important;
}
.system-atoria > .item.sheet .grid-2col {
  grid-template-columns: 10em auto;
}
.system-atoria > .item.sheet .grid-2col input:not([type=checkbox]) {
  max-width: 100%;
}
.system-atoria > .item.sheet .sub-element-category > ul {
  list-style-type: none;
  padding: 0;
  margin: 0;
}
.system-atoria > .item.sheet .sub-element-category > ul li {
  margin: 0;
}
.system-atoria > .item.sheet .sub-element-category > ul li:not(:first-child) {
  margin-top: var(--atoria-rows-gap);
}
.system-atoria > .item.sheet .atoria-supplementaries-area ul li:not(:first-child) {
  margin-top: calc(2 * var(--atoria-rows-gap));
}
.system-atoria > .item.sheet .atoria-supplementaries-area ul li.hr {
  border-top: var(--atoria-fieldset-border-style);
  border-bottom: var(--atoria-fieldset-border-style);
}
.system-atoria > .item.sheet .atoria-supplementaries-area ul li:last-child {
  visibility: hidden;
  display: none;
}
.system-atoria > .item.sheet ul.actable-mod-list {
  list-style-type: none;
  padding: 0;
  margin: 0;
}
.system-atoria > .item.sheet ul.actable-mod-list li {
  margin: 0;
}
.system-atoria > .item.sheet ul.actable-mod-list li:not(:first-child) {
  margin-top: var(--atoria-rows-gap);
}
.system-atoria > .item.sheet .atoria-keywords-area input[type=checkbox]:not(:checked) + input[type=checkbox].more {
  display: none;
}
.system-atoria > .item.sheet .atoria-keywords-area .visual-numbered-input .input-title {
  display: inline-block;
  min-width: 80px;
  max-width: 80px;
}
.system-atoria > .item.sheet .atoria-keywords-area .visual-numbered-input input[type="checkbox"] {
  --checkbox-size: 14px;
}
.system-atoria > .item.sheet .atoria-keywords-area .visual-numbered-input input[type="checkbox"]:not(:first-of-type) {
  --checkbox-size: 12px;
  margin-left: 2px;
  border: none;
}
.system-atoria > .item.sheet .atoria-keywords-area .visual-numbered-input input[type=checkbox]:not(:first-of-type)::after {
  --checkbox-content: "\2b";
  font-size: var(--checkbox-size);
}
.system-atoria > .item.sheet .atoria-keywords-area .visual-numbered-input input[type="number"] {
  margin-left: 3px;
  max-width: var(--atoria-input-width);
}
.system-atoria > .item.sheet .atoria-keywords-area .visual-numbered-input input[type="text"] {
  margin-left: 3px;
}
.system-atoria > .item.sheet .atoria-keywords-area .simple-area {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  row-gap: 3px;
}
.system-atoria > .item.sheet .atoria-keywords-area .complex-area {
  display: flex;
  flex-direction: column;
  margin-top: 3px;
}
.system-atoria > .item.sheet .atoria-keywords-area .complex-area input[type="checkbox"] {
  --checkbox-size: 14px;
}
.system-atoria > .item.sheet .atoria-keywords-area .complex-area input[type="number"] {
  margin-left: 3px;
  max-width: var(--atoria-input-width);
}
.system-atoria > .item.sheet .atoria-keywords-area .complex-area input[type="text"],
.system-atoria > .item.sheet .atoria-keywords-area .complex-area select {
  margin-left: 3px;
}
.system-atoria > .item.sheet .atoria-keywords-area .complex-area .form-group {
  flex: 0;
  min-width: fit-content;
}
.system-atoria > .item.sheet .atoria-keywords-area .complex-area .form-group label {
  display: inline-block;
  min-width: 80px;
  max-width: 80px;
}
.system-atoria .atoria-player-character-page {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
}
.system-atoria .atoria-player-character-page > .first-col {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  max-width: min-content;
}
.system-atoria .atoria-player-character-page > .first-col .flexrow {
  align-items: flex-start;
}
.system-atoria .atoria-player-character-page > .first-col .atoria-character-skill-n-knowledge {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
}
.system-atoria .atoria-player-character-page > .first-col .atoria-character-skill-n-knowledge > * {
  flex: 0;
}
.system-atoria .atoria-player-character-page > .first-col .atoria-character-skill-n-knowledge .atoria-skill-area > h5 {
  border-bottom: var(--atoria-border-blending-style);
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}
.system-atoria .atoria-player-character-page > .first-col .atoria-character-skill-n-knowledge .atoria-skill-area .atoria-skill-group-area {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
}
.system-atoria .atoria-player-character-page > .first-col .atoria-character-skill-n-knowledge .atoria-skill-area .atoria-skill-group-area .atoria-skill-group-display > h5 {
  border-top-left-radius: 0;
  border-top-right-radius: 0;
  border-top: none;
}
.system-atoria .atoria-player-character-page > .first-col .atoria-character-skill-n-knowledge .atoria-skill-area .atoria-skill-group-area > * {
  flex: 0;
}
.system-atoria .atoria-player-character-page > .second-col {
  min-width: 20em;
  width: 100%;
}
.system-atoria .atoria-player-character-page > .second-col .atoria-offense-defense {
  /* display: grid; */
  /* grid-template-columns: min-content auto @ofde-fense-text-area-width; */
  display: flex;
  flex-direction: column;
  flex: 0;
}
.system-atoria .atoria-player-character-page > .second-col .atoria-offense-defense > div.flexrow {
  min-height: calc(2px + var(--atoria-base-line-block-height));
  max-height: calc(2px + var(--atoria-base-line-block-height));
  /* border: var(--atoria-border-style); */
}
.system-atoria .atoria-player-character-page > .second-col .atoria-offense-defense > label {
  min-width: 5em;
  padding: 0 5px;
  border: var(--atoria-border-style);
  border-radius: var(--atoria-border-style-radius);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
}
.system-atoria .atoria-player-character-page > .second-col .atoria-offense-defense > textarea {
  min-height: 1lh;
}
.system-atoria .atoria-player-inventory-page > .flexrow {
  align-items: flex-start;
}
.system-atoria .atoria-player-inventory-page .armor-list {
  display: grid;
  grid-template-columns: 75px 1fr;
  align-items: center;
}
.system-atoria .atoria-player-inventory-page .armor-list .title {
  height: 100%;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-items: center;
  justify-content: space-evenly;
  border: var(--atoria-border-style);
  border-radius: var(--atoria-border-style-radius);
  max-height: max-content !important;
}
.system-atoria .atoria-player-inventory-page .armor-list .title > h5 {
  background-color: transparent !important;
  border: none;
}
.system-atoria .atoria-player-action-page > div:not(:first-child) {
  margin-top: var(--atoria-rows-gap);
}
.system-atoria .sheet.chest > .window-content div:not(.colored) > h5,
.system-atoria .sheet.chest > .window-content ul:not(.colored) > h5,
.system-atoria .sheet.chest > .window-content div.colored:has(h5) {
  background-color: #0000ff55;
}
.system-atoria .sheet.chest > .window-content div:not(.colored) > h6,
.system-atoria .sheet.chest > .window-content div.colored:has(h6) {
  background-color: #3333aa55;
  font-weight: 400;
}
.system-atoria .sheet.chest > .window-content div:not(.colored) > h5 {
  min-height: var(--atoria-base-line-block-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.chest > .window-content div:not(.colored) > h6 {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.chest > .window-content div.colored:has(h5),
.system-atoria .sheet.chest > .window-content ul:not(.colored) > h5 {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.chest .atoria-inventory-bar {
  --atoria-input-width: var(--atoria-4dgt-input-width);
  /* .atoria-attribute-display.atoria-encumbrance {
            display: grid;
            grid-template-areas:
            "ttl ttl"
            "val max";
            grid-template-columns: min-content min-content;
            flex: 0;
            border-left: var(--atoria-border-style);
            label {
                border: none;
            }

            input {
                border: none;
                border-top: var(--atoria-border-style);
            }
            input:first-of-type {
                --atoria-input-width: var(--atoria-5dgt-input-width);
                border-right: var(--atoria-border-style);
            }
            input:last-of-type {
                border-left: var(--atoria-border-style);
            }
        } */
}
.system-atoria .sheet.chest .atoria-inventory-bar > h5 {
  border: none;
}
.system-atoria .editing-mode.sheet.hero > .window-content > .body > .top-block {
  /* grid-template-rows: calc(9 * var(--atoria-skill-height)); */
}
.system-atoria .sheet.hero {
  --atoria-document-img-size: calc(7 * var(--atoria-skill-height));
}
.system-atoria .sheet.hero > .window-content div:not(.colored) > h5,
.system-atoria .sheet.hero > .window-content ul:not(.colored) > h5,
.system-atoria .sheet.hero > .window-content div.colored:has(h5) {
  background-color: #0000ff55;
}
.system-atoria .sheet.hero > .window-content div:not(.colored) > h6,
.system-atoria .sheet.hero > .window-content div.colored:has(h6) {
  background-color: #3333aa55;
  font-weight: 400;
}
.system-atoria .sheet.hero > .window-content div:not(.colored) > h5 {
  min-height: var(--atoria-base-line-block-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.hero > .window-content div:not(.colored) > h6 {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.hero > .window-content div.colored:has(h5),
.system-atoria .sheet.hero > .window-content ul:not(.colored) > h5 {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.hero > .window-content > .body {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
}
.system-atoria .sheet.hero > .window-content > .body > * {
  flex: auto;
}
.system-atoria .sheet.hero > .window-content > .body > .top-block {
  display: grid;
  grid-template-areas: "hdr skl knw ha";
  grid-template-columns: var(--atoria-document-img-size) min-content;
  flex: 0;
}
.system-atoria .sheet.hero > .window-content > .body > .top-block > .header-area {
  grid-area: hdr;
}
.system-atoria .sheet.hero > .window-content > .body > .top-block > .header-area > :not(.atoria-document-img) {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.hero > .window-content > .body > .top-block > .header-area > :not(.atoria-document-img) > * {
  height: 100%;
  max-height: 100%;
}
.system-atoria .sheet.hero > .window-content > .body > .top-block > .header-area > .name-area {
  display: flex;
  flex-direction: row;
  width: 100%;
}
.system-atoria .sheet.hero > .window-content > .body > .top-block > .header-area > .name-area > input[name="name"] {
  --atoria-input-width: 1fr;
}
.system-atoria .sheet.hero > .window-content > .body > .top-block > .atoria-skill-area {
  grid-area: skl;
  max-height: fit-content;
}
.system-atoria .sheet.hero > .window-content > .body > .top-block > .atoria-skill-area > h5 {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
  flex: 0 1 auto;
}
.system-atoria .sheet.hero > .window-content > .body > .top-block > .atoria-knowledge-area {
  grid-area: knw;
  max-height: fit-content;
}
.system-atoria .sheet.hero > .window-content > .body > .top-block > .atoria-knowledge-area > h5 {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
  flex: 0 1 auto;
}
.system-atoria .sheet.hero > .window-content > .body > .top-block > .atoria-hero-attribute {
  grid-area: ha;
  display: flex;
  flex-direction: column;
}
.system-atoria .sheet.hero > .window-content > .body > .top-block > .atoria-hero-attribute > h5,
.system-atoria .sheet.hero > .window-content > .body > .top-block > .atoria-hero-attribute > input {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.hero > .window-content > .body > .top-block > .atoria-hero-attribute > input {
  --atoria-input-width: 1fr;
  min-width: var(--atoria-skill-width);
  max-width: var(--atoria-skill-width);
}
.system-atoria .sheet.hero > .window-content > .body > .item-area {
  grid-area: itm;
}
.system-atoria .sheet.hero > .window-content > .body > .item-area > .atoria-hero-ration-n-coins {
  display: flex;
}
.system-atoria .sheet.hero > .window-content > .body > .item-area > .atoria-hero-ration-n-coins > .atoria-hero-ration {
  display: flex;
  align-items: center;
  padding: 3px;
}
.system-atoria .sheet.hero > .window-content > .body > .item-area > .atoria-hero-ration-n-coins > .atoria-coins-display {
  flex: 4;
}
.system-atoria .sheet.hero > .window-content > .body > .item-area > .atoria-inventory-bar {
  --atoria-input-width: var(--atoria-4dgt-input-width);
  /* .atoria-attribute-display.atoria-encumbrance {
                    display: grid;
                    grid-template-areas:
                    "ttl ttl"
                    "val max";
                    grid-template-columns: min-content min-content;
                    flex: 0;
                    border-left: var(--atoria-border-style);
                    label {
                        border: none;
                    }

                    input {
                        border: none;
                        border-top: var(--atoria-border-style);
                    }
                    input:first-of-type {
                        --atoria-input-width: 1fr;
                        border-right: var(--atoria-border-style);
                    }
                    input:last-of-type {
                        --atoria-input-width: 1fr;
                        border-left: var(--atoria-border-style);
                    }
                } */
}
.system-atoria .sheet.hero > .window-content > .body > .item-area .atoria-item-line-display {
  flex-wrap: wrap;
}
.system-atoria .sheet.hero > .window-content > .body > .item-area .atoria-item-line-display .atoria-markers {
  min-width: 0px;
}
.system-atoria .sheet.hero > .window-content > .body > .item-area .atoria-item-line-display .atoria-cost {
  min-width: 0px;
}
.system-atoria .sheet.hero > .window-content > .body > .item-area .atoria-item-line-display .atoria-target {
  min-width: 0px;
}
.system-atoria .sheet.hero > .window-content > .body > .item-area .atoria-item-line-display .atoria-range {
  min-width: 0px;
}
.system-atoria .sheet.hero > .window-content > .body > .item-area .atoria-item-line-display .atoria-area {
  min-width: 0px;
}
.system-atoria .sheet.hero > .window-content > .body > .item-area .atoria-item-line-display .atoria-limitation {
  min-width: 0px;
}
.system-atoria .sheet.non-player-character .window-content {
  display: grid;
  grid-template-areas: "char-hdr char-hdr " "char-smpl-skl-knw char-smpl-inv ";
  grid-template-columns: var(--atoria-skill-width) max-content;
}
.system-atoria .sheet.non-player-character .window-content div:not(.colored) > h5,
.system-atoria .sheet.non-player-character .window-content ul:not(.colored) > h5,
.system-atoria .sheet.non-player-character .window-content div.colored:has(h5) {
  background-color: #0000ff55;
}
.system-atoria .sheet.non-player-character .window-content div:not(.colored) > h6,
.system-atoria .sheet.non-player-character .window-content div.colored:has(h6) {
  background-color: #3333aa55;
  font-weight: 400;
}
.system-atoria .sheet.non-player-character .window-content div:not(.colored) > h5 {
  min-height: var(--atoria-base-line-block-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.non-player-character .window-content div:not(.colored) > h6 {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.non-player-character .window-content div.colored:has(h5),
.system-atoria .sheet.non-player-character .window-content ul:not(.colored) > h5 {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.non-player-character .window-content .atoria-inventory-bar {
  --atoria-input-width: var(--atoria-4dgt-input-width);
  /* .atoria-attribute-display.atoria-encumbrance {
                display: grid;
                grid-template-areas:
                "ttl ttl"
                "val max";
                grid-template-columns: min-content min-content;
                flex: 0;
                border-left: var(--atoria-border-style);

                label {
                    border: none;
                }

                input {
                    border: none;
                    border-top: var(--atoria-border-style);
                }
                input:first-of-type {
                    --atoria-input-width: var(--atoria-5dgt-input-width);
                    border-right: var(--atoria-border-style);
                }
                input:last-of-type {
                    border-left: var(--atoria-border-style);
                }
            } */
}
.system-atoria .sheet.non-player-character .window-content .atoria-inventory-bar > h5 {
  border: none;
}
.system-atoria .sheet.non-player-character .window-content .atoria-item-line-display {
  flex-wrap: wrap;
}
.system-atoria .sheet.non-player-character .window-content .atoria-item-line-display .atoria-markers {
  min-width: 0px;
}
.system-atoria .sheet.non-player-character .window-content .atoria-item-line-display .atoria-cost {
  min-width: 0px;
}
.system-atoria .sheet.non-player-character .window-content .atoria-item-line-display .atoria-target {
  min-width: 0px;
}
.system-atoria .sheet.non-player-character .window-content .atoria-item-line-display .atoria-range {
  min-width: 0px;
}
.system-atoria .sheet.non-player-character .window-content .atoria-item-line-display .atoria-area {
  min-width: 0px;
}
.system-atoria .sheet.non-player-character .window-content .atoria-item-line-display .atoria-limitation {
  min-width: 0px;
}
.system-atoria .sheet.non-player-character.editing-mode .window-content {
  grid-template-columns: var(--atoria-skill-width) max-content;
}
.system-atoria .sheet.player-character .window-content div:not(.colored) > h5,
.system-atoria .sheet.player-character .window-content ul:not(.colored) > h5,
.system-atoria .sheet.player-character .window-content div.colored:has(h5) {
  background-color: #0000ff55;
}
.system-atoria .sheet.player-character .window-content div:not(.colored) > h6,
.system-atoria .sheet.player-character .window-content ul:not(.colored) > h6,
.system-atoria .sheet.player-character .window-content div.colored:has(h6) {
  background-color: #3333aa55;
  font-weight: 400;
}
.system-atoria .sheet.player-character .window-content div:not(.colored) > h5 {
  min-height: var(--atoria-base-line-block-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.player-character .window-content div:not(.colored) > h6 {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.player-character .window-content div.colored:has(h5),
.system-atoria .sheet.player-character .window-content ul:not(.colored) > h5,
.system-atoria .sheet.player-character .window-content div.colored:has(h6),
.system-atoria .sheet.player-character .window-content ul:not(.colored) > h6 {
  min-height: var(--atoria-skill-height);
  max-height: var(--atoria-skill-height);
}
.system-atoria .sheet.player-character .window-content input[data-action="toggleEditingMode"] {
  border: none;
  font-size: calc(1.3 * var(--font-size));
  --checkbox-size: calc(1.3 * var(--atoria-base-line-block-height));
}
.system-atoria .sheet.player-character .window-content input[data-action="toggleEditingMode"]::after {
  color: var(--color-text-primary);
}
.system-atoria .sheet.player-character .window-content .atoria-inventory-bar {
  --atoria-input-width: var(--atoria-4dgt-input-width);
  /* .atoria-attribute-display.atoria-encumbrance {
                display: grid;
                grid-template-areas:
                "ttl ttl"
                "val max";
                grid-template-columns: min-content min-content;
                flex: 0;
                border-left: var(--atoria-border-style);

                label {
                    border: none;
                }

                input {
                    border: none;
                    border-top: var(--atoria-border-style);
                }
                input:first-of-type {
                    --atoria-input-width: var(--atoria-5dgt-input-width);
                    border-right: var(--atoria-border-style);
                }
                input:last-of-type {
                    border-left: var(--atoria-border-style);
                }
            } */
}
.system-atoria .sheet.player-character .window-content .atoria-inventory-bar > h5 {
  border: none;
  background-color: transparent;
}
.system-atoria .atoria.dialog,
.system-atoria .atoria.roll-dialog {
  max-width: 550px;
}
.system-atoria .atoria.dialog .atoria-cost-display.atoria-secondary,
.system-atoria .atoria.roll-dialog .atoria-cost-display.atoria-secondary {
  display: none;
  visibility: hidden;
}
.system-atoria .atoria.dialog > select:has( option:checked:not([value="main_skill_data"])) ~ .available-features ul[data-related-skill="main"],
.system-atoria .atoria.roll-dialog > select:has( option:checked:not([value="main_skill_data"])) ~ .available-features ul[data-related-skill="main"] {
  display: none;
  visibility: hidden;
}
.system-atoria .atoria.dialog > select:has( option:checked:not([value="main_skill_data"])) ~ .atoria-cost-display.atoria-main,
.system-atoria .atoria.roll-dialog > select:has( option:checked:not([value="main_skill_data"])) ~ .atoria-cost-display.atoria-main {
  display: none;
  visibility: hidden;
}
.system-atoria .atoria.dialog > select:has( option:checked:not([value="secondary_skill_data"])) ~ .available-features ul[data-related-skill="secondary"],
.system-atoria .atoria.roll-dialog > select:has( option:checked:not([value="secondary_skill_data"])) ~ .available-features ul[data-related-skill="secondary"] {
  display: none;
  visibility: hidden;
}
.system-atoria .atoria.dialog > select:has( option:checked[value="secondary_skill_data"] ) ~ .atoria-cost-display.atoria-secondary,
.system-atoria .atoria.roll-dialog > select:has( option:checked[value="secondary_skill_data"] ) ~ .atoria-cost-display.atoria-secondary {
  display: initial;
  visibility: visible;
}
.system-atoria .atoria.dialog ul,
.system-atoria .atoria.roll-dialog ul {
  list-style-type: none;
  padding: 0;
  margin: 0;
}
.system-atoria .atoria.dialog ul li,
.system-atoria .atoria.roll-dialog ul li {
  margin: 0;
}
.system-atoria .atoria.dialog ul li:not(:first-child),
.system-atoria .atoria.roll-dialog ul li:not(:first-child) {
  margin-top: var(--atoria-rows-gap);
}
.system-atoria .atoria.dialog.atoria-skill-creation-dialog input,
.system-atoria .atoria.roll-dialog.atoria-skill-creation-dialog input {
  --atoria-input-width: 100%;
}
.system-atoria .atoria.dialog .available-keywords img,
.system-atoria .atoria.roll-dialog .available-keywords img {
  flex: 0;
  max-width: var(--atoria-base-line-block-height);
  max-height: var(--atoria-base-line-block-height);
  border: none;
  filter: var(--atoria-img-filter);
}
.system-atoria .atoria.dialog .atoria-item-dialog,
.system-atoria .atoria.roll-dialog .atoria-item-dialog {
  display: flex;
  row-gap: 10px;
  flex-direction: column;
  align-items: stretch;
}
.system-atoria .atoria.dialog .sheet-tabs,
.system-atoria .atoria.roll-dialog .sheet-tabs {
  margin: 4px 0;
  margin-bottom: 15px;
  border-top: 1px solid var(--color-border-light-primary);
  border-bottom: 1px solid var(--color-border-light-primary);
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  justify-content: space-evenly;
  align-items: center;
  gap: 1rem;
}
.system-atoria .atoria.chat-message ul.used_supplementaries,
.system-atoria .atoria.chat-message ul.used_features,
.system-atoria .atoria.chat-message ul.used_keywords,
.system-atoria .atoria.chat-message ul.saves_asked,
.system-atoria .atoria.chat-message ul.used_actable_modifiers {
  list-style-type: none;
  padding: 0;
  margin: 0;
}
.system-atoria .atoria.chat-message ul.used_supplementaries li,
.system-atoria .atoria.chat-message ul.used_features li,
.system-atoria .atoria.chat-message ul.used_keywords li,
.system-atoria .atoria.chat-message ul.saves_asked li,
.system-atoria .atoria.chat-message ul.used_actable_modifiers li {
  margin: 0;
}
.system-atoria .atoria.chat-message .critial_success-title {
  color: green;
}
.system-atoria .atoria.chat-message .success-title {
  color: color-mix(in srgb, green 40%, var(--color-text-dark-primary));
}
.system-atoria .atoria.chat-message .failure-title {
  color: color-mix(in srgb, red 40%, var(--color-text-dark-primary));
}
.system-atoria .atoria.chat-message .critial_failure-title {
  color: red;
}
.system-atoria .atoria.chat-message .alteration-label {
  display: flex;
  justify-content: space-between;
  margin-top: 2px;
}
.system-atoria .atoria.chat-message hr {
  height: 1px;
  border-top: 1px solid black;
  width: 100%;
  margin: 2px;
}
.system-atoria .atoria.chat-message .message-content .inline-roll,
.system-atoria .atoria.chat-message .message-post-content .inline-roll {
  white-space: normal;
  word-break: normal;
  background: none;
  border: none;
}
.system-atoria .atoria.chat-message ul.saves_asked {
  /* display: grid;
        grid-template-columns: repeat(2, 1fr);
        justify-items: center; */
}
.system-atoria .atoria.chat-message ul.saves_asked li {
  padding: 0 0.5em;
}
.system-atoria .cost-tooltip {
  justify-content: flex-start;
  flex-wrap: nowrap;
  align-items: center;
}
.system-atoria .cost-tooltip > label {
  max-width: fit-content;
  padding: 0 5px;
}
.system-atoria .atoria-tooltip,
.system-atoria #tooltip.atoria-tooltip,
.system-atoria .locked-tooltip.atoria-tooltip {
  text-align: left;
}
.system-atoria .atoria.tooltip p {
  max-width: fit-content;
  padding: 0 5px;
  text-align: left;
}
.system-atoria .atoria.tooltip.item {
  display: flex;
  flex-direction: column;
  /* align-items: center; */
  gap: var(--atoria-rows-gap) calc(var(--atoria-columns-gap) / 2);
  min-height: var(--atoria-skill-height);
  max-height: fit-content;
  min-width: 100%;
  width: 100%;
  max-width: 100%;
  border: var(--atoria-item-line-border-style);
  border-radius: var(--atoria-border-style-radius);
  padding: 0;
}
.system-atoria .atoria.tooltip.item div:has(p) {
  min-width: 100%;
  width: 100%;
  border-bottom: var(--atoria-border-style);
}
.system-atoria .atoria.tooltip.item p {
  border: none;
  min-width: 100%;
  width: 100%;
}
.system-atoria .atoria.tooltip.item #first_line {
  flex: 1;
  min-width: 100%;
  max-width: 100%;
  border-bottom: var(--atoria-border-style);
}
.system-atoria .atoria.tooltip.item #fifth_line {
  max-width: 100%;
  border-bottom: var(--atoria-border-style);
  padding-bottom: 0.5em;
}
.system-atoria .atoria.tooltip.item #fifth_line > label {
  max-width: 100%;
}
.system-atoria .atoria.tooltip.item > i[data-action="toggleEffect"] {
  margin-left: 5px;
}
.system-atoria .atoria.tooltip.item > .name {
  flex: auto;
}
.system-atoria .atoria.tooltip.item > input {
  height: 100%;
}
.system-atoria .atoria.tooltip.item > .flexcol:has(.atoria-cost-display) {
  gap: 2px;
}
.system-atoria .atoria.tooltip.item > hr {
  margin: 0;
  height: calc(var(--atoria-base-line-block-height) / 2);
  min-width: 1px;
  border-left: var(--atoria-item-line-border-style);
}
.system-atoria .atoria.tooltip.item > .equip-toggle {
  --atoria-border-style: none;
  margin-left: 4px;
  margin-right: 4px;
}
.system-atoria .atoria.tooltip.item > .equip-toggle::after {
  --checkbox-content: "\f3ed" !important;
}
.system-atoria .atoria.tooltip.item .name {
  flex: 2;
}
.system-atoria .atoria.tooltip.item * {
  flex: none;
}
.system-atoria .atoria.tooltip.item .atoria-markers {
  min-width: 45px;
  max-width: 45px;
}
.system-atoria .atoria.tooltip.item .atoria-cost {
  min-width: 170px;
  max-width: 170px;
}
.system-atoria .atoria.tooltip.item .atoria-target {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 2px;
  min-width: 150px;
  max-width: 150px;
}
.system-atoria .atoria.tooltip.item .atoria-range {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 2px;
  min-width: 70px;
  max-width: 70px;
}
.system-atoria .atoria.tooltip.item .atoria-area {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 2px;
  min-width: 80px;
  max-width: 80px;
}
.system-atoria .atoria.tooltip.item .atoria-limitation {
  min-width: 80px;
  max-width: 80px;
}
.system-atoria .atoria.tooltip.item > .atoria-spell-marker {
  border: none;
  pointer-events: none;
}
.system-atoria .atoria.tooltip.item > .atoria-target {
  flex: auto;
}
.system-atoria .atoria.tooltip.item > .atoria-supplementary {
  border-bottom: var(--atoria-border-style);
}
.system-atoria .atoria.tooltip.item > .atoria-supplementary:last-of-type {
  border: none;
}
.system-atoria .atoria.tooltip.item.weapon .atoria-cost {
  min-width: 0px;
  max-width: none;
}
.system-atoria .atoria.tooltip.item.weapon .atoria-limitation {
  min-width: 0px;
  max-width: 0px;
}
.system-atoria .atoria.tooltip.item.armor .armor-type {
  display: flex;
  justify-content: center;
  padding: 0;
}
.system-atoria .atoria.tooltip.item.armor .armor-type img {
  flex: 0;
  max-width: var(--atoria-base-line-block-height);
  max-height: var(--atoria-base-line-block-height);
  width: var(--atoria-base-line-block-height);
  height: var(--atoria-base-line-block-height);
  border: none;
}
